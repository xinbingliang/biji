# 安转yum源

1. 虚拟机上读取iso光盘

   * 在VMware虚拟机菜单中点击VM->settings 弹出菜单
   * 点击CD/DVD
   * 勾选右边Connected和connect at power on
   * 选择Use ISO image file 选择你安装使用的iso的位置
   * 点击ok按钮，这时候虚拟机就能读取你的iso了

2. 挂载光盘

   * 创建光盘挂载位置`mkdir /mnt/cdrom`
   * 挂载光盘`mount -o loop /dev/cdrom /mnt/cdrom/`

3. 设置开机光盘自动挂载

   * 编辑/etc/fstab，`vi /etc/fstab`

     ````
     /dev/cdrom  /mnt/cdrom    iso9660          defauts,loop       0         0
     ````

4. 配置yum源

   * `cd /etc/yum.repos/`

   * 复制一个源，将其他删除（或添加~）

   * 将复制的源修改

     ```
     [iso]
     name=RH5.8.iso
     baseurl=file:///mnt/cdrom/Server
     enabled=1
     gpgcheck=0
     gpgkey=file:///mnt/cdrom/RPM-GPG-KEY-redhat-release
     failovermethod=priority
     ```

5. 清理源并重新读取

   *  yum clean all 清理一下yum源
   *  yum update 更新

6. 安装gcc环境

   * `yum groupinstall "Development Tools" "Development libraries"`