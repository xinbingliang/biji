#事件编程##  ##
##方法
| 方法                              | 描述                    |
| ------------------------------- | --------------------- |
| addLIstener(event, listener)    | 在某个事件末尾添加事件函数         |
| on(event, listener)             | 在事件末尾添加事件处理函数         |
| once(event, listener)           | 只监听一次的函数              |
| removeListener(event, listener) | 移除监听事件                |
| removeAllListener([event])      | 删除所有事件监听              |
| setMaxListeners(n)              | 修改最大事件监听数目            |
| listeners(event)                | 返回指定事件的数组             |
| emit(event[,arg1][,arg2])       | 触发监听事件，当有事件被监听时返回true |
##类方法
| 方法                                       | 描述                |
| ---------------------------------------- | ----------------- |
| require('events').EventEmitter.listenerCount(emitter, event) | 返回对于一个给定事件的监听器的数量 |
##事件
| 事件名称           | 参数                       | 描述               |
| -------------- | ------------------------ | ---------------- |
| newListener    | event事件名称，listener事件处理函数 | 事件在任何时间发出添加监听器   |
| removeListener | event事件名称，listener事件处理函数 | 事件在任何时候发出删除一个监听器 |
##实例
####事件监听和触发次序
```javascript
var event = require('events');
var eventEmitter = new event.EventEmitter();

//创建监听函数
var connecthandler = function connected() {
    console.log('第一个事件被触发');

    //触发第二个监听
    eventEmitter.emit('data_received');
    console.log('lalalal')
};

//对第一个函数进行监听
eventEmitter.on('connection', connecthandler);

//第二个事件监听
eventEmitter.on('data_received', function () {
    console.log('第二个事件被触发');
});

//触发第一个监听
eventEmitter.emit('connection');

console.log('程序执行完毕');

/*
 第一个事件被触发
 第二个事件被触发
 lalalal
 程序执行完毕
* */
```
####其他的事件方法
```javascript
var event = require('events');
var eventEmitter = new event.EventEmitter();

//第一个事件监听函数
var listener1 = function listener1() {
    console.log('listener1 执行')
};

//第二个事件监听函数
var listener2 = function listener2() {
    console.log('listener2 执行')
};

//添加事件监听
eventEmitter.addListener('connection', listener1);
eventEmitter.addListener('connection', listener2);

var eventernum = event.EventEmitter.listenerCount(eventEmitter, 'connection');

console.log('绑定了:'+eventernum+'个监听');

eventEmitter.emit('connection');

eventEmitter.on('removeListener', function (event, lister) {
    console.log('有事件监听被移除');
});

eventEmitter.removeListener('connection', listener1);

//有多少个事件监听
console.log('有'+eventEmitter.listeners('connection').length+'个监听');

//批量移除事件监听
eventEmitter.removeAllListeners('connection');

console.log('程序执行完成');

/*
 绑定了:2个监听
 listener1 执行
 listener2 执行
 有事件监听被移除
 有1个监听
 有事件监听被移除
 程序执行完成
* */
```



