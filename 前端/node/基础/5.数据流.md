#流类型
####流类型
* Readable - 数据流，其是用于读操作
* Writable - 数据流，用在写操作
* Duplex - 数据流，其可以用于读取和写入操作
* Transform - 双相类型流，输出基于输入进行计算
####流事件
* data - 当有数据可读取时触发此事件
* end - 当没有更多的数据读取时触发此事件
* error - 当有错误或接收数据写入时触发此事件
* finish - 当所有数据已刷新到底层系统时触发此事件
##具体操作
####从流中读取
```javascript
var fs = require('fs');
var data = '';

var readerStream = fs.createReadStream('data.txt');

readerStream.setEncoding('UTF8');

readerStream.on('data', function (chunk) {
    data += chunk;
});

readerStream.on('end', function () {
    console.log('文件读取完毕');
});

readerStream.on('error', function (err) {
    console.log(err.stack);
});

console.log('程序执行完成!');
```

####写入流
```javascript
var fs = require("fs");
var data = "本季看点：《无人生还》BBC计划于阿加莎诞辰125周年之际推的诗句相吻合。";

var writerStream = fs.createWriteStream('data.txt');
writerStream.write(data, 'utf8');
writerStream.end();

writerStream.on('finish', function () {
    console.log('写入完毕');
});

writerStream.on('error', function (err) {
    console.log(err.stack);
});

console.log('程序执行完毕!')
```

####防止读写不同步

```javascript
var fs = require("fs");
var readStream = fs.createReadStream('./data.txt');
var writeStream = fs.createWriteStream('./xin.txt');

readStream.on('data', function (data) {
    if(writeStream.write(data) == false){       //判断是否没有写完
        readStream.pause();                     //没写完就暂停读
    }
});

writeStream.on('drain', function () {           //写完后
    readStream.resume();                        //继续读
});

readStream.on('end', function () {              //关闭数据流
    writeStream.end();
});
```
####管道流

```javascript
var fs = require("fs");
var readerStream = fs.createReadStream('data.txt');
var writerStream = fs.createWriteStream('output.txt');

readerStream.pipe(writerStream);

console.log('程序执行完毕');
```
####链式流
* 压缩

  ```javascript
  var fs = require("fs");
  var zlib = require('zlib');

  fs.createReadStream('data.txt').pipe(zlib.createGzip()).pipe(fs.createWriteStream('input.txt.gz'));
  console.log('程序执行完毕');
  ```
* 解压

  ```javascript
  var fs = require("fs");
  var zlib = require('zlib');

  fs.createReadStream('input.txt.gz').pipe(zlib.createGunzip()).pipe(fs.createWriteStream('input.txt'));
  console.log('程序执行完毕');
  ```




