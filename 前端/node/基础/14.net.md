## net

`telnet 127.0.0.1 2080`

修改文件后自动执行`nodemon`

`nodemon test.js` 使用命令自动去监听

### socket服务端

```javascript
'use strict';
const  net = require('net');

//创建socket服务器
let server = net.createServer(socketConnect);

//当有客户端开始连接时会被触发
function socketConnect(socket){
/*	//服务端ip
	let clientIp = socket.address();
	//address端口 port指端口
	console.log(clientIp.address, clientIp.port, '在通信');

	//客户端ip
	let IP = socket.remoteAddress;
	let port = socket.remotePort;
	console.log(IP, port);
*/
	//有数据发送
	socket.on('data', (chunk)=>{
/*		console.log(chunk.toString());
		//发送数据给客户端
		socket.write(IP+':'+port);*/
	console.log(chunk.toString());

	});
}

//监听端口
server.listen(2080, '127.0.0.1', (error)=>{
	console.log('成功监听2080端口');
});
```

### socket客户端

```javascript
'use strict';
const  net = require('net');

const client = net.connect({port:2080}, ()=>{
/*	console.log('连接到服务端');
	client.write('world!\r\n');*/

	process.stdout.write('client> ');
	process.stdin.on('data', (chunk)=>{
		client.write(chunk.toString().trim());
		process.stdout.write('client> ');
	})
});

/*client.on('data', (data)=>{
	console.log(data.toString());
	client.end();
});

client.on('end', ()=>{
	console.log('关闭和服务端的连接');
});*/
```