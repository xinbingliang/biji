# 联表查询

[数据库学习](http://www.w3school.com.cn/sql/sql_join_left.asp)

[](http://www.cnblogs.com/BeginMan/p/3754322.html)

```sql
CREATE TABLE `person` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `last_name` varchar(24) NOT NULL,
  `first_name` varchar(24) NOT NULL,
  `address` varchar(24) NOT NULL,
  `city` varchar(24) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8

CREATE TABLE `orders` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `orderno` int(5) NOT NULL,
  `id_p` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=6 DEFAULT CHARSET=utf8
```

## 两个表查询

````sql
SELECT person.`last_name`, person.`first_name`, orders.`orderno` FROM person, orders WHERE person.id = orders.id_p 
````

## JOIN

```sql
SELECT person.`last_name`, person.`first_name`, orders.orderno	FROM person INNER JOIN orders ON person.id = orders.id_p ORDER BY person.last_name
```

- JOIN: 如果表中有至少一个匹配，则返回行
- LEFT JOIN: 即使右表中没有匹配，也从左表返回所有的行
- RIGHT JOIN: 即使左表中没有匹配，也从右表返回所有的行
- FULL JOIN: 只要其中一个表中存在匹配，就返回行

## Inner Join

````sql
SELECT person.`last_name`, person.`first_name`,orders.`orderno` FROM person INNER JOIN orders ON person.`id` = orders.`id` ORDER BY person.`last_name`
````

## LEFT JOIN

```sql
SELECT person.`last_name`, person.`first_name`, orders.`orderno` FROM person LEFT JOIN orders ON person.id = orders.id_p ORDER BY person.`last_name` 
```

LEFT JOIN 关键字会从左表 (Persons) 那里返回所有的行，即使在右表 (Orders) 中没有匹配的行

## RIGHT JOIN

````sql
SELECT person.`last_name`, person.`first_name`, orders.`orderno` FROM person RIGHT JOIN orders ON person.id = orders.`id_p` ORDER BY person.`last_name`
````

















