# 重点

## 指针

````go
package main

import "fmt"

func main() {
	var i int = 10
	fmt.Println(&i)

	// ptr为指针变量
	// ptr类型为*int
	// ptr值本身为&i
	var ptr *int = &i // 类型为*int  取地址
	fmt.Printf("ptr=%v\n", ptr)
	fmt.Printf("ptr的地址为：%v\n", &ptr)

	fmt.Printf("ptr的值为=%v", *ptr)
}
````

## 包的初始化

````shell
+--factory
| +--main
| | +--main.go
| +--package
| | +--model.go
````

`````go
// model.go
package _package

import "fmt"

func init()  { //在包被调用时执行
	fmt.Println("默认会引入时调用")
}

func Test()  {
	fmt.Println("被调用的部分")
}
`````

````go
//main.go
package main

import _package "gotest/factory/package"

func main() {
	_package.Test()
}
````

## 匿名函数

###  局部匿名函数

````go
package main

import "fmt"

func main() {
	res1 := func(n1 int, n2 int) int {
		return n1 + n2
	}(10, 20)
	fmt.Println(res1)

	a := func(n1 int, n2 int) int {
		return n1 - n2
	}
	res2 := a(100, 21)
	fmt.Println(res2)
}
````

### 全局匿名函数

`````go
package main

import "fmt"

var (
	Fun1 = func(n1 int, n2 int) int {
		return n1 * n2
	}
)

func main() {
	res := Fun1(4, 9)
	fmt.Println(res)
}
`````

## 闭包

````go
package main

import "fmt"

//func AddUpper() func (int) int {
func AddUpper() func(int) int { //返回是一个函数
	var n int = 10
	return func(x int) int {
		return n * x
	}
}

func main() {
	f := AddUpper()
	fmt.Println(f(1))
	fmt.Println(f(120))
}
````

## 延时

```go
package main

import "fmt"

func Sum(n1 int, n2 int) int {
   defer fmt.Println("ok n1=", n1)
   defer fmt.Println("ok n2=", n2)

   res := n1 + n2
   fmt.Println("ok3 res=", res)
   return res
}

func main() {
   Sum(100, 200)
}
```









