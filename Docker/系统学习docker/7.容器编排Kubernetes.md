# 容器编排Kubernetes

## Kubenetes简介

* node：指节点
* pod：容器调度的最小单位，指具有相同NameSpace的容器组合
* kubelet：负责node上容器管理的代理
* kube-proxy：端口的代理和转发及负载均衡
* fluentd：日志的采集、存储及查询

## Minikube快速搭建K8S单节点环境

[文档](https://github.com/kubernetes/minikube)

[文档](https://github.com/kubernetes/minikube/blob/master/docs/drivers.md#kvm2-driver)

`````
curl -LO http://pn955ssao.bkt.clouddn.com/kubectl
chmod +x ./kubectl
sudo mv ./kubectl /usr/local/bin/kubectl

curl -LO http://pn955ssao.bkt.clouddn.com/minikube-linux-amd64 && sudo install minikube-linux-amd64 /usr/local/bin/minikube

sudo apt install libvirt-clients libvirt-daemon-system qemu-kvm
sudo usermod -a -G libvirt $(whoami)
newgrp libvirt
curl -LO http://pn955ssao.bkt.clouddn.com/docker-machine-driver-kvm2 && sudo install docker-machine-driver-kvm2 /usr/local/bin/
minikube start --vm-driver kvm2 --iso-url http://pn955ssao.bkt.clouddn.com/minikube-v0.34.0.iso
`````

`````sh
#!/bin/bash
images=(
kube-apiserver:v1.13.3
kube-controller-manager:v1.13.3
kube-scheduler:v1.13.3
kube-proxy:v1.13.3
pause:3.1
etcd:3.2.24
)
for imageName in ${images[@]} ; do
	docker pull mirrorgooglecontainers/$imageName
	docker tag mirrorgooglecontainers/$imageName k8s.gcr.io/$imageName
	docker rmi mirrorgooglecontainers/$imageName
done

docker pull coredns/coredns:1.2.6
docker tag coredns/coredns:1.2.6 k8s.gcr.io/coredns:1.2.6
docker rmi coredns/coredns:1.2.6
`````

## K8S最小调度单位Pod



## ReplicaSet和ReplicationController



## Deployment_.mp4



## 使用Tectonic在本地搭建多节点K8S集群



##  k8s基础网络Cluster Network



## Service简介和演示



## NodePort类型Service以及Label的简单实用



## 准备工作——使用kops在亚马逊AWS上搭建k8s集群



## 使用kops在亚马逊AWS上搭建k8s集群



## LoadBlancer类型Service以及AWS的DNS服务配置

## 在亚马逊k8s集群上部署wordpress