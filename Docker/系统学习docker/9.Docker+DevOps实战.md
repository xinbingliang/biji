# Docker+DevOps实战

## gitlab-ci

* `apt-get install gitlab-runner` 安装`gitlab-runner`

````
usermood -aG docker gitlab-runner
service docker restart
gitlab-ci-multi-runner restart
````

## runner注册

* 修改runner hosts

```
sudo gitlab-ci-multi-runner register
....

sudo gitlab-ci-multi-runner list
```

* `.gitlab-ci.yml`

`````
# 定义 stages
stages:
  - build
  - test
# 定义 job
job1:
  stage: test
  script:
    - echo "I am job1"
    - echo "I am in test stage"
# 定义job
job2:
  stage: build
  script:
    - echo "I am job2"
    - echo "I am in build stage"
`````













