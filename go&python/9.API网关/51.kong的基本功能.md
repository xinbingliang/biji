# kong的基本功能

## kong的8001、8000和1337端口号的关系

````
Kong Admin URL
http://192.168.2.57:8001
````

* 8001
  * `kong的管理端口`
* 8000
  * 用户访问
* 1337
  * konga地址

![](../images/kong-port.png)

## 基本的路由转发配置

Service

顾名思义，就是我们自己定义的上游服务，通过Kong匹配到相应的请求要转发的地方，Service可以与下面的Route进行关联，一个Service可以有很多Route，匹配到的Route就会转发到Service中，当然中间也会通过Plugin的处理，增加或者减 少一些相应的Header或者其他信息。

Routes: 

​	Route路由相当于nginx配置中的location

​	Route实体定义匹配客户端请求的规则。每个路由都与一个服务相关联，而服务可能有多个与之相关联的路由。每一个匹配给定路线的请求都将被提交给它的相关服务。

​	路由和服务的组合(以及它们之间的关注点分离)提供了一种强大的路由机 制，可以在Kong中定义细粒度的入口点，从而引导您的访问到不同upstream服务。

## kong的service、routes、upstream的请求过程

## kong集成consul实现服务发现和负载均衡

将service中的Host改为：`goods-web.service.consul`在consel中配置的信息，Port改为`80`

## kong配置jwt实现登录校验









