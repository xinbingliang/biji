# Kubernetes基本介绍

## 目录

* minikube的使用
* k8s提供的抽象
* k8s架构简介
* k8s架构设计优缺点分析
* 运行第一个应用

## minikube的使用

### 安装

1. [安装docker](https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#set-up-the-repository)

2. [ 从github上下载minikube二进制](https://github.com/kubernetes/minikube/releases)

3. [ 墙内安装kubectl](http://blog.csdn.net/csdn_duomaomao/article/details/78568551)
   * wget  http://mirrors.ustc.edu.cn/kubernetes/apt/pool/kubectl_1.9.1-00_amd64_bdfb1ad90e0f02a7ae614502079a87ed99209679bdedf0c62873564c186c9f99.deb
   * `dpkg-deb -x kubectl.deb  dir`对该安装包进行解压
   * 将该命令移动到`/user/local/bin`下

4. 启动minikube

   ````shell
   # 参数配置
   export MINIKUBE_WANTUPDATENOTIFICATION=false
   export MINIKUBE_WANTREPORTERRORPROMPT=false
   # 读取配置文件的位置
   export MINIKUBE_HOME=$HOME
   export CHANGE_MINIKUBE_NONE_USER=true
   mkdir $HOME/.kube || true
   # 登录信息文件
   touch $HOME/.kube/config

   export KUBECONFIG=$HOME/.kube/config
   # 启动并不使用驱动
   sudo -E ./minikube start --vm-driver=none

   # this for loop waits until kubectl can access the api server that Minikube has created
   for i in {1..150}; do # timeout for 5 minutes
      ./kubectl get po &> /dev/null
      if [ $? -ne 1 ]; then
         break
     fi
     sleep 2
   done
   ````

   * 将该内容写到`.sh`文件中直接执行

5. 启动minikube，绕过gcr.io下无法下载镜像的问题

   * 观察日志/var/lib/localkube/*.err
   * docker pull kubernetes/pause
   * docker pull grrywlsn/kubernetes-addon-manager:v1.8.0

[minikube](https://github.com/kubernetes/minikube)

## k8s提供的抽象



## k8s架构简介



## k8s架构设计优缺点分析



## 运行第一个应用



