# 正则

## 模式

### 通配符



### 特殊通配符



### RegexObject



## 方法

### search

搜索字符串，找到匹配的第一个字符串

### match

从字符串开始开始匹配

```python
# -*- coding:utf-8 -*-
import re

def re_dome():
    # 解析出价格
    txt = 'If you purchase more than 100 sets, the price of product A is $9.90'
    # 解析数量和价格：pattern/string/MatchObject
    m = re.search(r'(\d+).*\$(\d+\.?\d*)', txt)
    print(m.groups())

if  __name__ == '__main__':
    re_dome()
```

**search搜索字符串任意位置匹配**

**match只从字符串开始位置进行匹配**

```python
def re_method():
    s = 'abcd'
    print(re.search(r'c', s))   # _sre.SRE_Match object at 0x0000000002681440>
    print(re.match(r'c', s))    # None
    # match表示匹配字符串开头为c的
    print(re.search(r'^c', s)) # 严格以c开头
    print(re.match(r'.*c', s))
    


if  __name__ == '__main__':
    re_method()
```

### split

使用正则表达式来分割字符串

```python
def re_method():
    s = 'This is Joey Huang'
    print(re.split(r'\W', s));

if  __name__ == '__main__':
    re_method()
```

### findall

根据正则表达式从左到右搜索匹配项，返回匹配的字符串列表

```python
def re_findall():
    s = 'Hello, this is Joey'
    print(re.findall(r'\w+', s))

if  __name__ == '__main__':
    re_findall()
```

### finditer

根据正则表达式从左到右搜索匹配项，返回一个迭代器迭代返回`MatchObject`

* `re.MatchObject`

  * group() 返回匹配的组

    * 索引0表示全部匹配的字符串
    * 索引1开始表示匹配的子组
    * 参数可以一个也可以多个
    * 命名组

    ```python
    m.group(0)
    ```

  * groupdict() 返回命名组的字典

  * groups() 返回匹配的子组，索引从1开始的所有子组

  * start/end/span 返回匹配的位置

```python
def re_finditer():
    s = 'The first price is $9.90 and second price is $100'
    i = re.finditer(r'\d+\.?\d*', s)
    for m in i:
        print(m.group())

if  __name__ == '__main__':
    re_finditer()
```

### sub

字符串的替换

* pattern 正则表达式
* repl 替换项，字符串或函数
* string 待处理的字符串

```python
def re_sub():
    s2 = 'The first price is $9.90 and second price is $100'
    print(re.sub(r'\d+\.?\d*', '<number>', s2))

if  __name__ == '__main__':
    re_sub()
```

### subn

和sub一样，返回值多了替换字符串个数

```python
def re_sub():
    s2 = 'The first price is $9.90 and second price is $100'
    print(re.subn(r'\d+\.?\d*', '<number>', s2))

if  __name__ == '__main__':
    re_sub()
```

