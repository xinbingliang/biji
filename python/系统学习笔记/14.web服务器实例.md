# web服务器实例

* 应用层：解决要传递什么数据，接收请求后要响应什么数据
* 传输层：解决如何传输数据UDP/TCP
* 网络层：目标的位置(IP)
* 链路层：具体传输工具



## HTTP 请求方式

* `GET` 获取数据
* `POST` 修改数据
* `PUT` 保存数据
* `DELETE` 删除
* `OPTION` 询问服务器的某种支持特性
* `HEAD` 返回报文头 

```python
from socket import *
from multiprocessing import *


def httpHandle(newsocket, destAddr):
    allData = ''
    while True:
        recvData = newsocket.recv(1024)
        recvData = str(recvData)

        if len(recvData) > 0:
            print('接受到数据:%s' % str(recvData))
            allData += recvData

            if recvData.endswith('\r\n\r\n'):
                break
        else:
            print('【%s】客户端已经关闭'% str(destAddr))
            break


    newsocket.send(b'HTTP1.1 200 OK\r\n<h1>Hello World</h1>\r\n\r\n')
    print(allData)
    newsocket.close()



def main():
    serverSocket = socket(AF_INET, SOCK_STREAM)

    serverSocket.setsockopt(SOL_SOCKET, SO_REUSEADDR, 1)

    localAddr = ('', 8080)

    serverSocket.bind(localAddr)

    serverSocket.listen(5)

    try:
        while True:
            newsocket, destAddr = serverSocket.accept()
            print('检测到客户端')

            client = Process(target=httpHandle, args=(newsocket, destAddr))
            client.start()

            newsocket.close()
    finally:
        serverSocket.close()



if __name__ == '__main__':
    main()
```




