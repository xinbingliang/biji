# web服务器实例

* 应用层：解决要传递什么数据，接收请求后要响应什么数据
* 传输层：解决如何传输数据UDP/TCP
* 网络层：目标的位置(IP)
* 链路层：具体传输工具


```python
from socket import *
from multiprocessing import *

serverSocket = socket(AF_INET, SOCK_STREAM)

serverSocket.setsockopt(SOL_SOCKET, SO_REUSEADDR, 1)

localAddr = ('', 8080)

serverSocket.bind(localAddr)

serverSocket.listen(5)

def httpHandle(newsocket, destAddr):
    allData = ''

    while True:
        recvData = newsocket.recv(1024)
        recvDataStr = str(recvData)
        if len(recvData) > 0:
            allData += recvDataStr
        else:
            print('数据接受完毕')
            break

    print('所有数据{%s}' % allData)


    newsocket.send(b"""HTTP1.1 200 OK\r\n
    \r\n
    Hello World
    \r\n
    \r\n""")

    newsocket.close()



while True:
    newsocket, destAddr = serverSocket.accept()
    client = Process(target = httpHandle, args=(newsocket, destAddr))
    client.start()

    newsocket.close()

# finally:
#     serverSocket.close()
```


















