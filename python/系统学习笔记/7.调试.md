# 调试

##调试

###pdb

* `python -m pdb some.py` 以`pdb`模块运行
  * `l` 打印正在执行的程序，以及位置
  * `n` 程序执行一行，并打印执行的代码
  * `c` 执行到程序末尾
  * `b 7` 在第7行增加断点
  * `clear 1` 删除第一个断点
  * `s` 调试函数
  * `p va` 打印一个值
  * `a` 打印所有形参
  * `q` 退出调试


##交互调试

````
import pdb
pdb.run('testfun(args)') //使用s跳转到这个函数
````

##程序埋点

````python
import pdb

def getAverage(a, b):
    result = a+b
    print("result = %d"%result)
    return result

a=100
b=200
c=a+b

pdb.set_trace() # 和第一种类似

ret = getAverage(a, b)
print(ret)
````

##日志调试



## 编码风格（PEP8）

1. 函数参数多时换行，和参数开始对齐

2. 调用时也可以函数换行

3. if条件时，条件换行，一个条件一行，并把条件加括号

4. 多行列表

   ```
   [
     1, 2, 3
     4, 5, 6
   ]
   ```

5. 不要混用Tab和空格

6. 每行最多79个字符，注释最长72

7. 类和其他代码块两个空行，函数间一行，类方法一个空行

8. 模块先写标准库，然后第三方，最后自己的库，直接用空行隔开

9. 三个双引号

10. 参数间空格

11. 冒号分号前不要加空格，冒号两边没有

12. 等号两边空格，默认参数等号不加

13. 类大驼峰，函数变量小驼峰