# 类别数据

## 显示多级分类

````python
# urls.py
from rest_framework.routers import DefaultRouter

router = DefaultRouter()
# 配置category的url
router.register('category', CategoryViewset, base_name="category")

urlpatterns = [
    # 商品列表页面
    path('', include(router.urls)),
]

````

````python
# views.py
class CategoryViewset(mixins.ListModelMixin, mixins.RetrieveModelMixin, viewsets.GenericViewSet): # mixins.RetrieveModelMixin 以获取某一商品详情
    """
    List:
        商品分类列表数据
    """
    queryset = GoodsCategory.objects.filter(category_type=1)
    serializer_class = CategorySerializer
````

````python
# serializer.py
class CategorySerializer2(serializers.ModelSerializer):
    """
    商品类别序列化
    """
    class Meta:
        model = GoodsCategory
        fields = "__all__"

class CategorySerializer(serializers.ModelSerializer):
    """
    商品类别序列化
    """
    sub_cat = CategorySerializer2(many=True)
    class Meta:
        model = GoodsCategory
        fields = "__all__"
````







