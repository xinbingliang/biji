# String

## APPEND

**APPEND key value**

如果 `key` 已经存在并且是一个字符串， [APPEND](http://redisdoc.com/string/append.html#append) 命令将 `value` 追加到 `key` 原来的值的末尾。如果 `key` 不存在， [APPEND](http://redisdoc.com/string/append.html#append) 就简单地将给定 `key` 设为 `value` ，就像执行 `SET key value` 一样。

````shell
# 对不存在的 key 执行 APPEND

redis> EXISTS myphone               # 确保 myphone 不存在
(integer) 0

redis> APPEND myphone "nokia"       # 对不存在的 key 进行 APPEND ，等同于 SET myphone "nokia"
(integer) 5                         # 字符长度


# 对已存在的字符串进行 APPEND

redis> APPEND myphone " - 1110"     # 长度从 5 个字符增加到 12 个字符
(integer) 12

redis> GET myphone
"nokia - 1110"
````

### 模式：时间序列(Time series)](http://redisdoc.com/string/append.html#time-series)

[APPEND](http://redisdoc.com/string/append.html#append) 可以为一系列定长(fixed-size)数据(sample)提供一种紧凑的表示方式，通常称之为时间序列。

每当一个新数据到达的时候，执行以下命令：

```
APPEND timeseries "fixed-size sample"

```

然后可以通过以下的方式访问时间序列的各项属性：

- [STRLEN](http://redisdoc.com/string/strlen.html#strlen) 给出时间序列中数据的数量
- [GETRANGE](http://redisdoc.com/string/getrange.html#getrange) 可以用于随机访问。只要有相关的时间信息的话，我们就可以在 Redis 2.6 中使用 Lua 脚本和 [GETRANGE](http://redisdoc.com/string/getrange.html#getrange) 命令实现二分查找。
- [SETRANGE](http://redisdoc.com/string/setrange.html#setrange) 可以用于覆盖或修改已存在的的时间序列。

```shell
127.0.0.1:6379> APPEND ts '0043'
(integer) 4
127.0.0.1:6379> APPEND ts '0035'
(integer) 8
127.0.0.1:6379> STRLEN ts
(integer) 8
127.0.0.1:6379> GETRANGE ts 0 3
"0043"
127.0.0.1:6379> GETRANGE ts 2 6
"43003"
```

## BITCOUNT

**BITCOUNT key [start][end]**

计算给定字符串中，被设置为 `1` 的比特位的数量。

```shell
redis> BITCOUNT bits
(integer) 0

redis> SETBIT bits 0 1          # 0001
(integer) 0

redis> BITCOUNT bits
(integer) 1

redis> SETBIT bits 3 1          # 1001
(integer) 0

redis> BITCOUNT bits
(integer) 2
```

### [模式：使用 bitmap 实现用户上线次数统计](http://redisdoc.com/string/bitcount.html#bitmap)



### [性能](http://redisdoc.com/string/bitcount.html#id2)



## [BITOP](http://redisdoc.com/string/bitop.html)

## BITFIELD

### [支持的子命令以及数字类型](http://redisdoc.com/string/bitfield.html#id2)

### [二进制位和位置偏移量](http://redisdoc.com/string/bitfield.html#id3)

### [溢出控制](http://redisdoc.com/string/bitfield.html#id4)

### 作用](http://redisdoc.com/string/bitfield.html#id5)

### [性能注意事项](http://redisdoc.com/string/bitfield.html#id6)

### [二进制位的排列](http://redisdoc.com/string/bitfield.html#id7)

## [DECR](http://redisdoc.com/string/decr.html)

## [DECRBY](http://redisdoc.com/string/decrby.html)

## [GET](http://redisdoc.com/string/get.html)

## [GETBIT](http://redisdoc.com/string/getbit.html)

## [GETRANGE](http://redisdoc.com/string/getrange.html)

## GETSET

### [模式](http://redisdoc.com/string/getset.html#id2)

## INCR

### [模式：计数器](http://redisdoc.com/string/incr.html#id2)

### [模式：限速器](http://redisdoc.com/string/incr.html#id3)

## [INCRBY](http://redisdoc.com/string/incrby.html)

## [INCRBYFLOAT](http://redisdoc.com/string/incrbyfloat.html)

## [MGET](http://redisdoc.com/string/mget.html)

## [MSET](http://redisdoc.com/string/mset.html)

## [MSETNX](http://redisdoc.com/string/msetnx.html)

## [PSETEX](http://redisdoc.com/string/psetex.html)

## SET

### [使用模式](http://redisdoc.com/string/set.html#id2)

## [SETBIT](http://redisdoc.com/string/setbit.html)

## [SETEX](http://redisdoc.com/string/setex.html)

## [SETNX](http://redisdoc.com/string/setnx.html)

## SETRANGE

### [模式](http://redisdoc.com/string/setrange.html#id2)

## [STRLEN](http://redisdoc.com/string/strlen.html)